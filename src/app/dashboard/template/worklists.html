<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <h1 class="no-margin-bottom">Worklists Test</h1>
        </div>
        <div class="col-sm-12">
            <p class="text-muted">
                This is a place for testing ideas regarding Worklists. Things
                here probably don't work.
            </p>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-4" ng-repeat="worklist in worklists">
            <table class="table table-striped table-hover">
                <thead>
                    <th>
                        {{worklist.title}}
                        <a href ng-click="toggleEditMode(worklist)">
                            <i class="fa fa-pencil"></i>
                        </a>
                        <button type="button" class="close" title="Delete"
                                ng-click="remove(worklist)">
                            &times;
                        </button>
                    </th>
                </thead>
                <tbody as-sortable="sortableOptions" ng-model="worklist.items"
                       ng-show="!worklist.editing">
                    <tr as-sortable-item ng-repeat="item in worklist.items">
                        <td as-sortable-item-handle ng-switch="item.type" class="hover-row"
                            title="{{item.type}}: {{item.title}}">
                            <a href="#!/story/{{item.value}}" ng-switch-when="story">
                                <div class="col-sm-2">
                                    <i class="fa fa-sb-story text-muted"></i>
                                </div>
                                <div class="col-sm-10">
                                    {{item.title}}
                                </div>
                            </a>
                            <a href="#!/story/{{item.story_id}}" ng-switch-when="task">
                                <div class="col-sm-2">
                                    <i class="fa fa-tasks text-muted"></i>
                                </div>
                                <div class="col-sm-10">
                                    {{item.title}}
                                </div>
                            </a>
                        </td>
                    </tr>
                </tbody>
                <tbody ng-show="worklist.editing">
                    <tr ng-repeat="item in worklist.items">
                        <td ng-switch="item.type" class="hover-row"
                            title="{{item.type}}: {{item.title}}">
                            <a href="#!/story/{{item.value}}" ng-switch-when="story">
                                <div class="col-sm-2">
                                    <i class="fa fa-sb-story text-muted"></i>
                                </div>
                                <div class="col-sm-8">
                                    {{item.title}}
                                </div>
                            </a>
                            <a href="#!/story/{{item.story_id}}" ng-switch-when="task">
                                <div class="col-sm-2">
                                    <i class="fa fa-tasks text-muted"></i>
                                </div>
                                <div class="col-sm-8">
                                    {{item.title}}
                                </div>
                            </a>
                            <div class="col-sm-2">
                                <button type="button" class="close" title="Remove"
                                   ng-click="removeItem(worklist, item)">
                                    &times;
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
                <tbody ng-show="worklist.items.length == 0">
                    <tr>
                        <td>
                            This worklist is currently empty.
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr class="hover-row text-center" title="Add Item"
                        ng-click="addItem(worklist)">
                        <td>
                            Add Items
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
